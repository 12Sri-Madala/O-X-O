{"ast":null,"code":"import _slicedToArray from \"/Users/mac/Desktop/oxo/engine/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mac/Desktop/oxo/engine/src/Pages/Database/Database.tsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport \"./Database.css\";\nimport { getDatabaseList } from \"./Redux/actions\";\nimport { useAuth0 } from \"../../App/react-auth0-spa\";\n\nfunction Database(props) {\n  const _useAuth = useAuth0(),\n        getTokenSilently = _useAuth.getTokenSilently;\n\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        token = _useState2[0],\n        setToken = _useState2[1]; // const [refreshRequired, setRefreshRequired] = useState(true);\n\n\n  useEffect(() => {\n    const fetchDatabaseList = async () => {\n      // if (refreshRequired) {\n      const newToken = await getTokenSilently();\n      setToken(newToken);\n      props.dispatchDatabaseList(newToken); // setRefreshRequired(false);\n      // }\n    };\n\n    fetchDatabaseList();\n  }, []);\n\n  const generateList = () => {\n    return props.databaseList.map(table => {\n      let capitalLetter = table[0].toUpperCase();\n      let tableName = capitalLetter + table.slice(1);\n      return React.createElement(\"h2\", {\n        key: table,\n        className: \"tableName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, tableName);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, generateList());\n}\n\nconst mapStateToProps = state => {\n  return {\n    databaseList: state.database.databaseList\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    dispatchDatabaseList: token => dispatch(getDatabaseList(token))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Database);","map":{"version":3,"sources":["/Users/mac/Desktop/oxo/engine/src/Pages/Database/Database.tsx"],"names":["React","useState","useEffect","connect","getDatabaseList","useAuth0","Database","props","getTokenSilently","token","setToken","fetchDatabaseList","newToken","dispatchDatabaseList","generateList","databaseList","map","table","capitalLetter","toUpperCase","tableName","slice","mapStateToProps","state","database","mapDispatchToProps","dispatch"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,OAAO,gBAAP;AACA,SAASC,eAAT,QAAgC,iBAAhC;AACA,SAASC,QAAT,QAAyB,2BAAzB;;AAOA,SAASC,QAAT,CAAkBC,KAAlB,EAA4D;AAAA,mBAC3BF,QAAQ,EADmB;AAAA,QAChDG,gBADgD,YAChDA,gBADgD;;AAAA,oBAE9BP,QAAQ,EAFsB;AAAA;AAAA,QAEjDQ,KAFiD;AAAA,QAE1CC,QAF0C,kBAGxD;;;AAEAR,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMS,iBAAiB,GAAG,YAAY;AAClC;AACA,YAAMC,QAAQ,GAAG,MAAMJ,gBAAgB,EAAvC;AACAE,MAAAA,QAAQ,CAACE,QAAD,CAAR;AACAL,MAAAA,KAAK,CAACM,oBAAN,CAA2BD,QAA3B,EAJkC,CAKlC;AACA;AACH,KAPD;;AAQAD,IAAAA,iBAAiB;AACpB,GAVQ,EAUN,EAVM,CAAT;;AAYA,QAAMG,YAAY,GAAG,MAAM;AACvB,WAAOP,KAAK,CAACQ,YAAN,CAAmBC,GAAnB,CAAwBC,KAAD,IAAmB;AAC7C,UAAIC,aAAa,GAAGD,KAAK,CAAC,CAAD,CAAL,CAASE,WAAT,EAApB;AACA,UAAIC,SAAS,GAAGF,aAAa,GAAGD,KAAK,CAACI,KAAN,CAAY,CAAZ,CAAhC;AACA,aACI;AACI,QAAA,GAAG,EAAEJ,KADT;AAEI,QAAA,SAAS,EAAC,WAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGEG,SAHF,CADJ;AAMH,KATM,CAAP;AAUH,GAXD;;AAaA,SACI;AACI,IAAA,SAAS,EAAC,WADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGKN,YAAY,EAHjB,CADJ;AAOH;;AAED,MAAMQ,eAAe,GAAIC,KAAD,IAAgB;AACpC,SAAO;AACHR,IAAAA,YAAY,EAAEQ,KAAK,CAACC,QAAN,CAAeT;AAD1B,GAAP;AAGH,CAJD;;AAMA,MAAMU,kBAAkB,GAAIC,QAAD,IAAmB;AAC1C,SAAO;AACHb,IAAAA,oBAAoB,EAAGJ,KAAD,IAAmBiB,QAAQ,CAACtB,eAAe,CAACK,KAAD,CAAhB;AAD9C,GAAP;AAGH,CAJD;;AAMA,eAAeN,OAAO,CAClBmB,eADkB,EAElBG,kBAFkB,CAAP,CAGbnB,QAHa,CAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport \"./Database.css\"\nimport { getDatabaseList } from \"./Redux/actions\"\nimport { useAuth0 } from \"../../App/react-auth0-spa\";\n\ninterface DatabaseProps {\n    databaseList: any[];\n    dispatchDatabaseList: any;\n}\n\nfunction Database(props: DatabaseProps): React.ReactElement {\n    const { getTokenSilently } = useAuth0();\n    const [token, setToken] = useState();\n    // const [refreshRequired, setRefreshRequired] = useState(true);\n\n    useEffect(() => {\n        const fetchDatabaseList = async () => {\n            // if (refreshRequired) {\n            const newToken = await getTokenSilently();\n            setToken(newToken);\n            props.dispatchDatabaseList(newToken)\n            // setRefreshRequired(false);\n            // }\n        };\n        fetchDatabaseList();\n    }, []);\n\n    const generateList = () => {\n        return props.databaseList.map((table: string) => {\n            let capitalLetter = table[0].toUpperCase()\n            let tableName = capitalLetter + table.slice(1)\n            return (\n                <h2\n                    key={table}\n                    className=\"tableName\"\n                >{tableName}</h2>\n            )\n        })\n    }\n\n    return (\n        <div\n            className=\"container\"\n        >\n            {generateList()}\n        </div>\n    )\n}\n\nconst mapStateToProps = (state: any) => {\n    return {\n        databaseList: state.database.databaseList\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        dispatchDatabaseList: (token: string) => dispatch(getDatabaseList(token))\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Database);"]},"metadata":{},"sourceType":"module"}