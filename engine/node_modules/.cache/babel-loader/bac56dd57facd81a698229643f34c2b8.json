{"ast":null,"code":"import _slicedToArray from \"/Users/mac/Desktop/oxo/engine/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mac/Desktop/oxo/engine/src/Pages/Database/Database.tsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getDatabaseList } from \"./Redux/actions\";\nimport { useAuth0 } from \"../../App/react-auth0-spa\";\n\nfunction Database(props) {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        databaseList = _useState2[0],\n        setList = _useState2[1];\n\n  const _useAuth = useAuth0(),\n        getTokenSilently = _useAuth.getTokenSilently;\n\n  const _useState3 = useState(),\n        _useState4 = _slicedToArray(_useState3, 2),\n        token = _useState4[0],\n        setToken = _useState4[1];\n\n  const _useState5 = useState(true),\n        _useState6 = _slicedToArray(_useState5, 2),\n        refreshRequired = _useState6[0],\n        setRefreshRequired = _useState6[1];\n\n  useEffect(() => {\n    const fetchDatabaseList = async () => {\n      if (refreshRequired) {\n        const newToken = await getTokenSilently();\n        setToken(newToken);\n        await props.dispatchDatabaseList(newToken);\n        setRefreshRequired(false);\n      }\n    };\n\n    fetchDatabaseList();\n  }, []);\n\n  const generateList = () => {\n    console.log('does it even hit the generate list?', databaseList);\n    return databaseList.map(table => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, table);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, generateList());\n}\n\nconst mapStateToProps = state => {\n  return {\n    databaseList: state.databaseList\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    dispatchDatabaseList: token => dispatch(getDatabaseList(token))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Database);","map":{"version":3,"sources":["/Users/mac/Desktop/oxo/engine/src/Pages/Database/Database.tsx"],"names":["React","useState","useEffect","connect","getDatabaseList","useAuth0","Database","props","databaseList","setList","getTokenSilently","token","setToken","refreshRequired","setRefreshRequired","fetchDatabaseList","newToken","dispatchDatabaseList","generateList","console","log","map","table","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,SAASC,eAAT,QAAgC,iBAAhC;AACA,SAASC,QAAT,QAAyB,2BAAzB;;AAOA,SAASC,QAAT,CAAkBC,KAAlB,EAA4D;AAAA,oBACxBN,QAAQ,CAAC,EAAD,CADgB;AAAA;AAAA,QACjDO,YADiD;AAAA,QACnCC,OADmC;;AAAA,mBAE3BJ,QAAQ,EAFmB;AAAA,QAEhDK,gBAFgD,YAEhDA,gBAFgD;;AAAA,qBAG9BT,QAAQ,EAHsB;AAAA;AAAA,QAGjDU,KAHiD;AAAA,QAG1CC,QAH0C;;AAAA,qBAIVX,QAAQ,CAAC,IAAD,CAJE;AAAA;AAAA,QAIjDY,eAJiD;AAAA,QAIhCC,kBAJgC;;AAMxDZ,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMa,iBAAiB,GAAG,YAAY;AAClC,UAAIF,eAAJ,EAAqB;AACjB,cAAMG,QAAQ,GAAG,MAAMN,gBAAgB,EAAvC;AACAE,QAAAA,QAAQ,CAACI,QAAD,CAAR;AACA,cAAMT,KAAK,CAACU,oBAAN,CAA2BD,QAA3B,CAAN;AACAF,QAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACH;AACJ,KAPD;;AAQAC,IAAAA,iBAAiB;AACpB,GAVQ,EAUN,EAVM,CAAT;;AAYA,QAAMG,YAAY,GAAG,MAAM;AACvBC,IAAAA,OAAO,CAACC,GAAR,CAAY,qCAAZ,EAAmDZ,YAAnD;AACA,WAAOA,YAAY,CAACa,GAAb,CAAkBC,KAAD,IAAmB;AACvC,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEEA,KAFF,CADJ;AAKH,KANM,CAAP;AAOH,GATD;;AAWA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKJ,YAAY,EADjB,CADJ;AAKH;;AAED,MAAMK,eAAe,GAAIC,KAAD,IAAgB;AACpC,SAAO;AACHhB,IAAAA,YAAY,EAAEgB,KAAK,CAAChB;AADjB,GAAP;AAGH,CAJD;;AAMA,MAAMiB,kBAAkB,GAAIC,QAAD,IAAmB;AAC1C,SAAO;AACHT,IAAAA,oBAAoB,EAAGN,KAAD,IAAmBe,QAAQ,CAACtB,eAAe,CAACO,KAAD,CAAhB;AAD9C,GAAP;AAGH,CAJD;;AAMA,eAAeR,OAAO,CAClBoB,eADkB,EAElBE,kBAFkB,CAAP,CAGbnB,QAHa,CAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { getDatabaseList } from \"./Redux/actions\"\nimport { useAuth0 } from \"../../App/react-auth0-spa\";\n\ninterface DatabaseProps {\n    // databaseList: any;\n    dispatchDatabaseList: any;\n}\n\nfunction Database(props: DatabaseProps): React.ReactElement {\n    const [databaseList, setList] = useState([]);\n    const { getTokenSilently } = useAuth0();\n    const [token, setToken] = useState();\n    const [refreshRequired, setRefreshRequired] = useState(true);\n\n    useEffect(() => {\n        const fetchDatabaseList = async () => {\n            if (refreshRequired) {\n                const newToken = await getTokenSilently();\n                setToken(newToken);\n                await props.dispatchDatabaseList(newToken)\n                setRefreshRequired(false);\n            }\n        };\n        fetchDatabaseList();\n    }, []);\n\n    const generateList = () => {\n        console.log('does it even hit the generate list?', databaseList)\n        return databaseList.map((table: string) => {\n            return (\n                <div\n                // onClick={getTable}\n                >{table}</div>\n            )\n        })\n    }\n\n    return (\n        <div>\n            {generateList()}\n        </div>\n    )\n}\n\nconst mapStateToProps = (state: any) => {\n    return {\n        databaseList: state.databaseList\n    }\n}\n\nconst mapDispatchToProps = (dispatch: any) => {\n    return {\n        dispatchDatabaseList: (token: string) => dispatch(getDatabaseList(token))\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Database);"]},"metadata":{},"sourceType":"module"}